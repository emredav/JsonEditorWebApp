(this["webpackJsonpjson-tools"]=this["webpackJsonpjson-tools"]||[]).push([[0],[,,,,,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},,function(e,t,s){"use strict";s.r(t);var n=s(1),c=s.n(n),a=s(3),r=s.n(a),l=(s(8),s(9),s(10),s(11),s(12),s(0));var o=function e(t){let{data:s,name:c}=t;const[a,r]=Object(n.useState)(!0);if(null===s||void 0===s)return Object(l.jsx)("div",{className:"json-tree-item",children:Object(l.jsxs)("div",{className:"json-tree-item-content",children:[c&&Object(l.jsxs)("span",{className:"json-tree-key",children:[c,":"]}),Object(l.jsx)("span",{className:"json-tree-value-null",children:"null"})]})});if("object"!==typeof s)return Object(l.jsx)("div",{className:"json-tree-item",children:Object(l.jsxs)("div",{className:"json-tree-item-content",children:[c&&Object(l.jsxs)("span",{className:"json-tree-key",children:[c,":"]}),Object(l.jsx)("span",{className:(o=s,null===o||void 0===o?"json-tree-value-null":"string"===typeof o?"json-tree-value-string":"number"===typeof o?"json-tree-value-number":"boolean"===typeof o?"json-tree-value-boolean":"json-tree-value"),children:"string"===typeof s?`"${s}"`:String(s)})]})});var o;const i=Array.isArray(s),d=i?s.map(((e,t)=>t)):Object.keys(s),j=0===d.length,h=i?"Array":"Object",b=i?"[]":"{}";return Object(l.jsxs)("div",{className:"json-tree-item",children:[Object(l.jsxs)("div",{className:"json-tree-item-content",onClick:()=>!j&&r(!a),children:[Object(l.jsx)("div",{className:"json-tree-expand-icon",children:!j&&(a?"\u2212":"+")}),c&&Object(l.jsxs)("span",{className:"json-tree-key",children:[c,":"]}),Object(l.jsxs)("span",{className:"json-tree-value",children:[b[0],j?b[1]:a?"":` ${h}(${d.length}) `,!a&&b[1]]})]}),!j&&a&&Object(l.jsxs)("div",{className:"json-tree-children fade-in",children:[d.map((t=>Object(l.jsx)(e,{data:s[t],name:i?`${t}`:t},t))),Object(l.jsx)("div",{className:"json-tree-item-content",children:Object(l.jsx)("span",{className:"json-tree-value",children:b[1]})})]})]})};var i=e=>{let{value:t,onChange:s,height:c="300px"}=e;const a=Object(n.useRef)(null),r=Object(n.useRef)(null);Object(n.useEffect)((()=>{const e=()=>{r.current&&a.current&&(r.current.scrollTop=a.current.scrollTop)},t=a.current;return t&&t.addEventListener("scroll",e),()=>{t&&t.removeEventListener("scroll",e)}}),[]);const o=t.split("\n").map(((e,t)=>Object(l.jsx)("div",{className:"line-number",children:t+1},t)));return Object(l.jsx)("div",{className:"editor-wrapper",style:{height:c},children:Object(l.jsxs)("div",{className:"simple-json-editor-container",children:[Object(l.jsx)("div",{className:"editor-line-numbers",ref:r,children:o}),Object(l.jsx)("textarea",{ref:a,className:"editor-textarea",value:t,onChange:e=>{s(e.target.value)}})]})})};var d=e=>{let{label:t,checked:s,onChange:n}=e;return Object(l.jsxs)("div",{className:"toggle-item",children:[Object(l.jsxs)("label",{className:"toggle",children:[Object(l.jsx)("input",{type:"checkbox",checked:s,onChange:n}),Object(l.jsx)("span",{className:"toggle-slider"})]}),Object(l.jsx)("span",{children:t})]})};function j(e,t){try{const s=document.createElement("textarea");s.value=e,s.style.position="fixed",s.style.left="0",s.style.top="0",s.style.opacity="0",s.style.pointerEvents="none",s.style.zIndex="-1",document.body.appendChild(s),s.focus(),s.select();const n=document.execCommand("copy");document.body.removeChild(s),t(n)}catch(s){console.error("Copying text failed:",s),t(!1)}}var h=e=>{let{title:t,data:s,actionButton:n}=e;const c=JSON.stringify(s,null,2);return Object(l.jsxs)("div",{className:"section",children:[Object(l.jsxs)("div",{className:"section-header",children:[Object(l.jsx)("h2",{className:"text-xl font-semibold",children:t}),n]}),Object(l.jsx)("div",{className:"section-content",children:Object(l.jsxs)("div",{className:"relative",children:[Object(l.jsx)("pre",{children:c}),Object(l.jsx)("button",{className:"btn-copy",onClick:()=>{!function(e){const t=e=>{const t=document.createElement("div");t.textContent=e?"\u2713 Copied":"\u2717 Copy failed",t.style.cssText=`\n      position: fixed;\n      bottom: 20px;\n      right: 20px;\n      background: ${e?"#10b981":"#ef4444"};\n      color: white;\n      padding: 10px 16px;\n      border-radius: 4px;\n      box-shadow: 0 2px 5px rgba(0,0,0,0.2);\n      z-index: 1000;\n      opacity: 1;\n      transition: opacity 0.3s ease;\n    `,document.body.appendChild(t),setTimeout((()=>{t.style.opacity="0",setTimeout((()=>{document.body.removeChild(t)}),300)}),1700)};navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e).then((()=>{t(!0)})).catch((s=>{console.error("Clipboard API error:",s),j(e,t)})):j(e,t)}(c)},children:"Copy"})]})})]})};var b=e=>{let{paths:t,selectedPaths:s,onTogglePath:n,onSelectAll:c,onClearSelection:a,onRemove:r,isProcessing:o}=e;return Object(l.jsxs)("div",{className:"section",children:[Object(l.jsxs)("div",{className:"section-header",children:[Object(l.jsx)("h2",{className:"text-xl font-semibold",children:"Select Fields to Remove"}),Object(l.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[Object(l.jsx)("button",{className:"btn-secondary",onClick:c,children:"Select All"}),Object(l.jsx)("button",{className:"btn-secondary",onClick:a,children:"Clear"})]})]}),Object(l.jsxs)("div",{className:"section-content",children:[Object(l.jsx)("div",{className:"checkbox-container",children:t.filter((e=>!e.includes("[].."))).map((e=>Object(l.jsxs)("div",{className:"custom-checkbox",children:[Object(l.jsx)("input",{type:"checkbox",id:`path-${e}`,checked:s.includes(e),onChange:()=>n(e)}),Object(l.jsx)("label",{htmlFor:`path-${e}`,children:e})]},e)))}),t.length>0&&Object(l.jsx)("div",{style:{marginTop:"1rem",display:"flex",justifyContent:"flex-end"},children:Object(l.jsx)("button",{className:"btn-primary",onClick:r,disabled:o,children:o?"Processing...":`View (Remove ${s.length} Field(s))`})})]})]})};function u(e){if(Array.isArray(e))return{type:"array",items:e.length>0?u(e[0]):{}};if(e&&"object"===typeof e){const t={};for(const s in e)t[s]=u(e[s]);return{type:"object",properties:t}}return"string"===typeof e?{type:"string"}:"number"===typeof e?{type:"number"}:"boolean"===typeof e?{type:"boolean"}:{type:"null"}}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(Array.isArray(e)){if(t&&s.add(t),e.length>0){const n=t?`${t}[]`:"[]";if(s.add(n),"object"===typeof e[0]&&null!==e[0])for(const t in e[0]){const c=`${n}.${t}`;s.add(c),Array.isArray(e[0][t])&&s.add(`${c}[]`),m(e[0][t],c,s)}}}else if(null!==e&&"object"===typeof e){t&&s.add(t);for(const n in e){const c=t?`${t}.${n}`:n;s.add(c),Array.isArray(e[n])&&s.add(`${c}[]`),m(e[n],c,s)}}else t&&s.add(t);return s}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;if(Array.isArray(e)){if(t){s.set(t,1);const n=`${t}[]`;s.set(n,e.length)}for(let n=0;n<e.length;n++){const c=e[n],a=t?`${t}[].${n}`:`[].${n}`;s.has(a)||s.set(a,1),null!==c&&"object"===typeof c&&p(c,a,s)}}else if(null!==e&&"object"===typeof e){t&&s.set(t,1);for(const n in e){const c=t?`${t}.${n}`:n;if(Array.isArray(e[n])){s.has(c)||s.set(c,1);const t=`${c}[]`;s.set(t,e[n].length)}else null!==e[n]&&e[n],s.has(c)||s.set(c,1);null!==e[n]&&"object"===typeof e[n]&&p(e[n],c,s)}}else t&&!s.has(t)&&s.set(t,1);return s}function x(e,t){const s=(t=t.replace(/\.{2,}/g,".")).match(/^(.+)\[\]\.(\d+)$/);if(s){const t=s[1],n=parseInt(s[2]);let c=e;const a=t.split(".");if(a.length>1)for(let s=0;s<a.length-1;s++){if(void 0===c[a[s]])return e;c=c[a[s]]}const r=a[a.length-1];if(c[r]&&Array.isArray(c[r])&&n>=0&&n<c[r].length){const t=[...c[r]];if(t.splice(n,1),c===e&&1===a.length&&"0"===r)return t;const s=Array.isArray(c)?[...c]:{...c};if(s[r]=t,c===e)return s;let l={...e},o=l;for(let e=0;e<a.length-1;e++){const t=a[e];o[t]=e===a.length-2?s:{...o[t]},o=o[t]}return l}return e}return O(e,t.split("."))}function O(e,t){if(!t.length)return e;let s=t[0],n=!1;s.endsWith("[]")&&(n=!0,s=s.slice(0,-2));const c=!isNaN(parseInt(s))&&String(parseInt(s))===s;if(Array.isArray(e)){if(c){const n=parseInt(s);if(n>=0&&n<e.length){if(1===t.length)return e.filter(((e,t)=>t!==n));{const s=[...e];return s[n]=O(s[n],t.slice(1)),s}}return e}return e.map((e=>O(e,t)))}if(e&&"object"===typeof e){const c={...e};if(s in c)if(n&&Array.isArray(c[s])){if(1===t.length)return c[s]=[],c;{const e=t[1];if(!isNaN(parseInt(e))&&String(parseInt(e))===e&&Array.isArray(c[s])){const n=parseInt(e);return c[s]=c[s].map((e=>Array.isArray(e)&&n>=0&&n<e.length?e.filter(((e,t)=>t!==n)):e)),O(c,t.slice(2))}if(Array.isArray(c[s]))return c[s]=c[s].map((e=>O(e,t.slice(1)))),c}}else{if(1===t.length)return delete c[s],c;null===c[s]||"object"!==typeof c[s]&&!Array.isArray(c[s])||(c[s]=O(c[s],t.slice(1)))}return c}return e}const f=()=>{const[e,t]=Object(n.useState)(""),[s,c]=Object(n.useState)(null),[a,r]=Object(n.useState)(null),[l,o]=Object(n.useState)([]),[i,d]=Object(n.useState)([]),[j,h]=Object(n.useState)(new Map),[b,O]=Object(n.useState)(null),[f,y]=Object(n.useState)(!1);return{jsonInput:e,setJsonInput:t,parsedJson:s,generatedSchema:a,allPaths:l,selectedRemovalPaths:i,itemCounts:j,modifiedJson:b,isProcessing:f,parseJson:()=>{e.trim()?(y(!0),setTimeout((()=>{try{const t=JSON.parse(e);c(t),O(null);const s=u(t);r(s);const n=m(t),a=Array.from(n).map((e=>e.replace(/\.{2,}/g,"."))).sort();o(a);const l=p(t);h(l),d([])}catch(t){alert("Invalid JSON: "+(t instanceof Error?t.message:String(t)))}finally{y(!1)}}),100)):alert("Please enter JSON data first")},processJsonFromFile:e=>{try{if(e.trim()){const t=JSON.parse(e);c(t),O(null);const s=u(t);r(s);const n=m(t),a=Array.from(n).map((e=>e.replace(/\.{2,}/g,"."))).sort();o(a);const l=p(t);h(l),d([])}}catch(t){alert("Invalid JSON file: "+(t instanceof Error?t.message:String(t)))}},togglePath:e=>{d((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))},selectAllPaths:()=>{d([...l])},clearSelectedPaths:()=>{d([])},handleRemove:()=>{s&&(y(!0),setTimeout((()=>{try{const e=function(e,t){let s=e;for(const n of t)s=x(s,n);return s}(s,i);O(e)}finally{y(!1)}}),100))},loadSampleJson:()=>{const e=JSON.stringify({name:"JSON Editor",version:1,features:["Parse JSON","Edit JSON","Visualize JSON"],settings:{theme:"light",autoSave:!0,notifications:{enabled:!0,types:["error","warning","info"]}},stats:{users:1e3,rating:4.8}},null,2);t(e)},clearJsonInput:()=>{window.confirm("Are you sure you want to clear the JSON input? This action cannot be undone.")&&(t(""),c(null),r(null),o([]),d([]),h(new Map),O(null))}}};var y=()=>{const{jsonInput:e,setJsonInput:t,parsedJson:s,generatedSchema:c,allPaths:a,selectedRemovalPaths:r,itemCounts:j,modifiedJson:u,isProcessing:m,parseJson:p,processJsonFromFile:x,togglePath:O,selectAllPaths:y,clearSelectedPaths:g,handleRemove:v,loadSampleJson:N,clearJsonInput:S}=f(),[A,C]=Object(n.useState)(!1),[J,k]=Object(n.useState)(!1),[w,P]=Object(n.useState)(!0),$=Object(n.useRef)(null);return Object(l.jsxs)("div",{className:"container min-h-screen",children:[Object(l.jsxs)("div",{className:"header-container",children:[Object(l.jsx)("h1",{className:"editor-title",children:"JSON Tools"}),Object(l.jsx)("h2",{className:"editor-subtitle",children:"JSON Path Analyzer & Remover"}),Object(l.jsx)("a",{href:"https://github.com/emredav/JsonEditorWebApp",target:"_blank",rel:"noopener noreferrer",className:"github-link",children:Object(l.jsx)("svg",{className:"github-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(l.jsx)("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})})]}),Object(l.jsxs)("div",{className:"toggle-container",children:[Object(l.jsx)(d,{label:"JSON Schema",checked:A,onChange:()=>C(!A)}),Object(l.jsx)(d,{label:"Item Counts",checked:J,onChange:()=>k(!J)}),Object(l.jsx)(d,{label:"JSON Tree",checked:w,onChange:()=>P(!w)})]}),Object(l.jsxs)("div",{className:"section",children:[Object(l.jsxs)("div",{className:"section-header",children:[Object(l.jsx)("h2",{className:"text-xl font-semibold",children:"Input JSON"}),Object(l.jsxs)("div",{className:"button-group responsive-button-group",children:[Object(l.jsxs)("button",{className:"btn-secondary",onClick:()=>{var e;return null===(e=$.current)||void 0===e?void 0:e.click()},children:[Object(l.jsx)("i",{className:"icon-upload"}),Object(l.jsx)("span",{className:"button-text",children:"Upload"})]}),Object(l.jsxs)("button",{className:"btn-secondary",onClick:N,children:[Object(l.jsx)("i",{className:"icon-sample"}),Object(l.jsx)("span",{className:"button-text",children:"Sample"})]})]})]}),Object(l.jsxs)("div",{className:"section-content",children:[Object(l.jsx)("div",{className:"editor-wrapper",children:Object(l.jsx)(i,{value:e,onChange:t,height:"300px"})}),Object(l.jsx)("input",{type:"file",ref:$,onChange:e=>{var s;const n=null===(s=e.target.files)||void 0===s?void 0:s[0];if(!n)return;const c=new FileReader;c.onload=e=>{if(e.target&&"string"===typeof e.target.result){const s=e.target.result;t(s),x(s)}},c.readAsText(n),e.target.value=""},accept:".json",style:{display:"none"}}),Object(l.jsxs)("div",{className:"editor-actions",children:[Object(l.jsxs)("button",{className:"btn-danger",onClick:S,disabled:!e.trim(),children:[Object(l.jsx)("i",{className:"icon-clear"}),"Clear"]}),Object(l.jsx)("button",{className:"btn-primary",onClick:p,disabled:m||!e.trim(),children:m?"Processing...":"Parse JSON"})]})]})]}),s&&Object(l.jsxs)("div",{className:"fade-in",children:[A&&Object(l.jsx)(h,{title:"JSON Schema",data:c}),J&&Object(l.jsxs)("div",{className:"section",children:[Object(l.jsx)("div",{className:"section-header",children:Object(l.jsx)("h2",{className:"text-xl font-semibold",children:"Item Counts"})}),Object(l.jsx)("div",{className:"section-content",children:Object(l.jsx)("div",{className:"checkbox-container",children:Array.from(j.entries()).map((e=>{let[t,s]=e;return Object(l.jsxs)("div",{className:"mb-1",children:[Object(l.jsxs)("span",{className:"font-medium",children:[t,":"]})," ",s]},t)}))})})]}),w&&Object(l.jsxs)("div",{className:"section",children:[Object(l.jsx)("div",{className:"section-header",children:Object(l.jsx)("h2",{className:"text-xl font-semibold",children:"JSON Tree"})}),Object(l.jsx)("div",{className:"section-content tree-container",children:Object(l.jsx)(o,{data:s,name:"root"})})]}),Object(l.jsx)(b,{paths:a,selectedPaths:r,onTogglePath:O,onSelectAll:y,onClearSelection:g,onRemove:v,isProcessing:m}),u&&Object(l.jsx)(h,{title:"Modified JSON",data:u,actionButton:Object(l.jsxs)("button",{className:"btn-download",onClick:()=>{u&&function(e,t){const s=JSON.stringify(e,null,2),n=new Blob([s],{type:"application/json"}),c=URL.createObjectURL(n),a=document.createElement("a");a.href=c,a.download=t||"data.json",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(c)}(u,"modified.json")},children:[Object(l.jsx)("i",{className:"icon-download"}),"Download JSON"]})})]})]})};var g=()=>Object(l.jsx)("div",{className:"app-container",children:Object(l.jsx)(y,{})});r.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(g,{})}),document.getElementById("root"))}],[[14,1,2]]]);
//# sourceMappingURL=main.799bf481.chunk.js.map